<div id="module-note">

    <h1>工具提示</h1>

    <h2>实例参数</h2>
    <pre>
    {
        element: $('xx'),                                       // 需要弹出提示的元素

        // 下面的建议通过 Tooltip.defaultOptions 统一配置

        titleAttr: 'title',                                     // 可选，默认读取 title 属性

        placement: 'bottom,auto',                               // 可选，提示方位的全局配置，可选值包括　'top' 'right' 'bottom' 'left' 'auto'
                                                                //     默认为 'bottom,auto'
                                                                // 　　可组合使用，如　'top,auto' 表示先尝试　top，不行就自动算出可以正常显示的方位
        placementAttr: 'data-placement',                        // 可选，优先级比 placement 高，可覆盖它
        placementPrefix: 'tooltip-placement-',                  // 可选，提示方位的 class 前缀，便于设置箭头之类的样式
                                                                //     默认为 'tooltip-placement-'

        showBy: 'over',                                         // 可选，触发提示显示的方式，可选值包括 'over', 'click'
                                                                //     默认为 'over'
        hideBy: 'out,blur',                                     // 可选，触发提示隐藏的方式，可选值包括 'out', 'blur', 'out,blur'
                                                                //     默认为 'out,blur'

        showDelay: 200,                                         // 可选，当 showBy 为 'over' 时的显示延时
                                                                //     默认为 200
        hideDelay: 200,                                         // 可选，当 hideBy 包含 'out' 时的隐藏延时
                                                                //     默认为 200

        gapX: 5,                                                // 可选，横向间距，如果是 0，提示层会和元素贴在一起，较难看
                                                                //     默认为 5
        gapY: 5,                                                // 可选，纵向间距，如果是 0，提示层会和元素贴在一起，较难看
                                                                //     默认为 5

        offset: {                                               // 可选，按需设置四个方向的偏移量
            left: {
                x: 5,
                y: 0
            },
            ...
        },


        template: '',                                           // 可选，提示浮层模版

        show: function (tipElement) {},                         // 可选，显示提示的方式
                                                                //     默认为 tipElement.show()
        hide: function (tipElement) {},                         // 可选，隐藏提示的方式
                                                                //     默认为 tipElement.hide()
        update: function (tipElement, triggerElement) {},       // 可选，更新提示的方式
                                                                //     默认为 tipElement.html(triggerElement.attr(tipAttr))

        onBeforeShow: function () {},                           // 可选，返回 false 可阻止显示
        onAfterShow: function () {},                            // 可选
        onBeforeHide: function () {},                           // 可选，返回 false 可阻止显示
        onAfterHide: function () {}                             // 可选
    }
    </pre>
</div>

<div id="module-demo">

    <i id="icon" title="提示内容">?</i>

    <style>

        #icon {
            background-color: #6A94EC;
            color: #FFF;
            font-size: 1.5em;
            font-style: normal;
            width: 24px;
            height: 24px;
            line-height: 24px;
            text-align: center;

            position: absolute;
            top: 40%;
            left: 40%;
        }

        .tooltip {
            border: 1px solid #DDD;
            background-color: #FFF;
            position: absolute;
            padding: 5px;
            box-shadow: 1px 1px 3px #EEE;
        }
        .tooltip > i {
            border: 5px solid #DDD;
            border-top-color: transparent;
            border-left-color: transparent;
            border-right-color: transparent;
            position: absolute;
            top: -10px;
            left: 10px;
        }

    </style>

    <script>

    require(

        [ 'killer/Tooltip' ],

        function (Tooltip) {

            var config = Tooltip.defaultOptions;
            config.template = '<div class="tooltip">'
                            +    '<i></i>'
                            +    '<div class="tooltip-content"></div>'
                            + '</div>';

            config.hideDelay = 0;
            config.gapX = config.gapY = 8;
            config.offset.bottom = {
                x: 17,
                y: 0
            };

            config.show = function (tipElement) {
                tipElement.fadeIn(200);
            };
            config.hide = function (tipElement) {
                tipElement.fadeOut(100);
            };
            config.update = function (tipElement, triggerElement) {
                tipElement.find('.tooltip-content').html(this.title);
            };
            config.onBeforeShow = function () {
                console.log(this);
            };
            config.onAfterHide = function () {
                console.log(this);
            };


            var tooltip = new Tooltip({
                element: $('#icon')
            });

            $(document).one('moduleChanged', function () {
                tooltip.dispose();
            });
        }
    );

    </script>

</div>